<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- 해당 파일에 모든 쿼리문을 작성 -->
<mapper namespace="salesMapper">
	<resultMap id="sales" type="com.green.Car.vo.SalesVO">
        <id column="SALES_NUM"          property="salesNum"/>
        <result column="BUYER"          property="buyer"/>
        <result column="BUYER_TEL"      property="buyerTel"/>
        <result column="COLOR"          property="color"/>
        <result column="SALES_DATE"     property="salesDate"/>
        <result column="MODEL_NUM"      property="modelNum"/>
        <association property="carVO" resultMap="carMapper.car"/>
    </resultMap>

        <insert id="insertBuyer">
            INSERT INTO SALES_INFO (
              BUYER
            , BUYER_TEL
            , COLOR
            , MODEL_NUM
            )
            VALUES (
              #{buyer}
            , #{buyerTel}
            , #{color}
            , #{modelNum}
            );
        </insert>

        <select id="selectBuyer">
            SELECT c.model_num
                   , model_name
                   , price
                   , sales_num
                   , buyer
                   , color
                   , s.model_num
                   , buyer_tel
                   , sales_date
            FROM car_info c, sales_info s
            WHERE c.model_num = s.model_num
            AND sales_num = #{salesNum};
        </select>
</mapper>































